#include "moving.h"
#include "../structures/objeto.h"
#include <math.h>
#include <stdbool.h>
#include <stdio.h>

void movingTestUp(bool keyTest, bool *moving, OBJETO *obj) {
  if (keyTest) {
    // alterando o incremento
    (obj->vecVelocidade.dy) = -(obj->vecVelocidade.velocidade);
    obj->sprite_dir = 2;
    *moving = true;
  }
}
void movingTestDown(bool keyTest, bool *moving, OBJETO *obj) {
  if (keyTest) {
    obj->vecVelocidade.dy = (obj->vecVelocidade.velocidade);
    obj->sprite_dir = 0;
    *moving = true;
  }
}
void movingTestRight(bool keyTest, bool *moving, OBJETO *obj) {
  if (keyTest) {
    obj->vecVelocidade.dx = (obj->vecVelocidade.velocidade);
    obj->sprite_dir = 3;
    *moving = true;
  }
}
void movingTestLeft(bool keyTest, bool *moving, OBJETO *obj) {
  if (keyTest) {
    obj->vecVelocidade.dx = -(obj->vecVelocidade.velocidade);
    obj->sprite_dir = 1;
    *moving = true;
  }
}
void fps(int *frame_counter, int *frame, int num_frames) {
  *frame_counter++; // TODO local variable
  if (*frame_counter >= 10) {
    *frame = (*frame + 1) % num_frames;
    *frame_counter = 0;
  }
}
void normalVetor(OBJETO *obj) {
  if (obj->vecVelocidade.dx && obj->vecVelocidade.dy) {
    obj->vecVelocidade.dy /= 5;
    obj->vecVelocidade.dx /= 5;
  }
}
